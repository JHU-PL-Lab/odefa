# EXPECT-WELL-FORMED
# EXPECT-EVALUATE
# EXPECT-ANALYSIS-LOOKUP-FROM-END rf {true}
# EXPECT-ANALYSIS-LOOKUP-FROM-END rr {false, true}
# EXPECT-ANALYSIS-NO-INCONSISTENCIES

f = fun x -> (ret = x);
r = {lf = f};

mf = f ~ fun;
rf = mf ? ( rf1 = true ) : ( rf2 = false );

mr = r ~ {lf};
rr = mr ? ( rr1 = true ) : ( rr2 = false );
