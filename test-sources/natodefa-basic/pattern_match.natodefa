# EXPECT-WELL-FORMED
# EXPECT-EVALUATE
# EXPECT-ANALYSIS-LOOKUP-FROM-END ~result {int}
# Note: DDPA will complain about inconsistency due to potentially projecting on a non-record

let match_fn x =
    match x with
    | int -> x + 0
    | bool -> 1 
    | fun -> 2 
    | {head = int} -> 3 
    end
in
let a = match_fn 1 in
let b = match_fn true in
let c = match_fn (fun x -> x) in
let d = match_fn {head = 2, tail = 3} in
a + b + c + d
